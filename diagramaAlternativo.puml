@startuml Unificado
!theme reddress-darkblue
scale 1.3
skinparam Linetype ortho

title *Central Nuclear*
skinparam titleBorderRoundCorner 15
skinparam titleBorderThickness 2
skinparam titleBorderColor skyBlue
skinparam titleBackgroundColor #96a2ff


class PlantaNuclear {
    -arrayList<Reactor> reactores
    -arrayList<Operador> operadores
}

class Reactor {
    -arrayList<MecanismoDeControl> mecanismos
    -number capacidad
    -static number temperatura
    -bool estaEncendido
    -EstadoDeAlerta estado
    -CalculadorDeEnergiaProducida energia
    
}

enum EstadoDeAlerta {
    REGULAR
    ALERTA
    CRITICO
}

class Operador {
    +iniciarReaccion(Reactor r)
    +mantenerReaccion(Reactor r)
    +detenerReaccion(Reactor r)
}

class BarraDeControl implements MecanismoDeControl {
    -bool estaActivo
    -number tiempoVidaUtil
    -EstadoBarra estado

    +actualizarTiempoVidaUtil()
    +actualizarEstado()
    +controlarTemperatura()
}

enum EstadoBarra {
    INSERTADO
    EXTRAIDO
    NO_FUNCIONA
}

class Sensor implements MecanismoDeControl {
    -bool estaActivo

    +controlarTemperatura()
}

class TurbinaDeRefrigeracion implements MecanismoDeControl {
    -bool estaActivo

    +controlarTemperatura()
}

interface MecanismoDeControl {
    +controlarTemperatura()
}

class CalculadorDeEnergiaProducida {
    -number energiaProducida
    
    +getEnergiaPorHora()
}

'Relaciones
Reactor -u-o PlantaNuclear
Operador -l-o PlantaNuclear
MecanismoDeControl -l-o Reactor
CalculadorDeEnergiaProducida -u-o Reactor
EstadoBarra -[hidden]u- BarraDeControl
Reactor -[hidden]u- EstadoDeAlerta

'Notas
note right of Operador: "Mantener: verificar que los mecanismos \nse activen bajo las condiciones especificadas"
note bottom of Operador: "El reactor va a iniciar apagado, \nal iniciar reaccion cambiamos la \npropiedad EstaEncendido a true"
note bottom of Reactor: "Hacer getters y setters estáticos \npara la propiedad temperatura, de \nforma que podamos modificarla desde \nlas barras de control"
note bottom of Sensor: "Retorna la temperatura? \nActualiza el estado del reactor\nSiempre está activo"

@enduml